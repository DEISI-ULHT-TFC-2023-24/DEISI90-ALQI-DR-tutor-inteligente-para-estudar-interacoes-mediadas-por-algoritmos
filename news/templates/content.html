{% extends 'layout.html' %}


{% block style %}


{% endblock style %}

{% block content %}
    <div style="width: 30%; float: right">
        {% comment %}
        Comments removed but code could be useful

        <div class="filters-container" style="margin: 0 auto; width: 70%;">
            <h1 style="text-align: center; margin-left: 2%">Comentários</h1>
            {% if comments %}
                <div class="container" style="background: #999999; margin-right: 2%; margin-left: 2%">
                {% for comment in comments %}
                    <div class="flex-container" style="flex-direction: column">
                        <div class="container" style="flex-grow: 1">
                            <h2 style="margin-bottom: 5%">
                                {{ comment.comment_user }}
                            </h2>
                            <div style="margin: 5%">
                                {{ comment.comment_text }}
                            </div>
                            <div style="margin: 5%">
                                {{ comment.comment_date }}
                            </div>
                        </div>
                    <div style="height: 20px"></div>
                </div>
                {% endfor %}
                </div>
            {% endif %}
            <div class="container" style="background: #999999; margin-right: 2%; margin-left: 2%; display: none;"
                 id="comment-container">
                <form method="post" style="float: left">
                    {% csrf_token %}
                    {{ form.as_p }}
                    <div style="margin-bottom: 10px; float: left">
                        <button type="submit">Enviar</button>
                    </div>
                </form>
            </div>
            <button style="margin-left: 2%; background: #3e3e3e" id="show-comment">Introduzir comentário</button>
            <script>
                const commentButton = document.getElementById('show-comment');
                const commentContainer = document.getElementById('comment-container');

                commentButton.addEventListener('click', function () {
                    if (commentContainer.style.display === 'none' || commentContainer.style.display === '') {
                        commentContainer.style.display = 'block';
                        commentButton.textContent = 'Voltar';
                    } else {
                        commentContainer.style.display = 'none';
                        commentButton.textContent = 'Introduzir comentário';
                    }
                });
            </script>
        </div>
        {% endcomment %}

    </div>
    <div class="container2" style="width: 70%; float:left">
        {% for x in obj %}
            <a style="text-decoration: none" href="{{ x.content_url }}">
                <div class="flex-container" style="flex-direction: column">
                    <div class="container" style="flex-grow: 1">
                        <h2 style="margin-bottom: 5%">
                            {{ x.content_headline }}
                        </h2>
                        <img src="{{ x.content_image }}" alt="Image" style="width: 350px; height: 192px;">
                        <div style="margin: 5%">
                            {{ x.content_text }}
                        </div>
                        <h4>
                            {{ x.content_date }}
                        </h4>
                        <div style="float: right">
                            Fonte: {{ x.content_source }}
                        </div>
                    </div>
                    <div style="height: 20px"></div>
                </div>
            </a>
        {% endfor %}

        <div class="flex-container" style="flex-direction: column">
            <div class="container" id="text-container" style="flex-grow: 1">
                <h3>Gerado por intelegência artificial:</h3>
                {% if thread_news %}
                    <div id="full-content" style="">{{ thread_news }}</div>
                {% else %}
                    <h2>Conteúdo ainda não gerado.</h2>
                {% endif %}
            </div>
            <div style="height: 20px"></div>
        </div>
    </div>

{% endblock content %}